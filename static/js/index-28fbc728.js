import{u as e,g as a}from"./index-30f14e36.js";import"./vue-echarts-f79e68f9.js";import"./element-plus-ad41b746.js";import"./store-96e17a43.js";import{u as s}from"./index-219fe374.js";import{b as n,r as t}from"./lodash-es-a085e596.js";import{d as o,q as r,R as l,o as i,c as u,I as c,J as p,F as d,V as m,N as f,e as v,b,M as _,a as j,al as h,ak as g,x as y,h as k,K as w,L as x,$ as F}from"./@vue.runtime-core-e50a2272.js";import{u as M,e as z}from"./@vue.reactivity-da630c06.js";import{L as C,o as I}from"./@vue.shared-5670d8a7.js";import{_ as S}from"./_plugin-vue_export-helper-c4cb8a60.js";import{v as V,T as B}from"./@vue.runtime-dom-90e9fdb1.js";import{d as E}from"./vue-router-916993ce.js";import"./axios-966d6f38.js";import"./nprogress-6d1393d1.js";import"./pinia-bb8d2f73.js";import"./vue-demi-5b9a0fa5.js";import"./@vueuse.core-2fa6d9e6.js";import"./@vueuse.shared-ca6b0f06.js";import"./vue-b5fce9d1.js";import"./mockjs-93ca2bc8.js";import"./mitt-dab1f1cb.js";import"./@element-plus.icons-vue-26cbeb7a.js";import"./@popperjs.core-040feab9.js";import"./@ctrl.tinycolor-84ad98d6.js";import"./dayjs-dd470533.js";import"./async-validator-efc2d198.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./@floating-ui.dom-9d85c32a.js";import"./@floating-ui.core-c56fb7e8.js";import"./resize-detector-94afada7.js";import"./echarts-6943293a.js";import"./tslib-ed971494.js";import"./zrender-0d232395.js";const L={class:"route-nav"},N={key:0,class:"title"},O=o({name:"route-nav"}),$=S(o({...O,setup(a){const{route:o}=s(),{app:v,menu:b}=e(),_=r((()=>n(b.group.map((function e(a){if("/"===o.path)return!1;if(a.path==o.path)return a;if(a.children){const s=a.children.map(e).find(Boolean);return!!s&&[a,s]}return!1})).filter(Boolean)))),j=r((()=>{var e;return null==(e=t(_.value))?void 0:e.name}));return(e,a)=>{const s=l("el-breadcrumb-item"),n=l("el-breadcrumb");return i(),u("div",L,[M(v).browser.isMini?(i(),u("p",N,C(M(j)),1)):(i(),c(n,{key:1},{default:p((()=>[(i(!0),u(d,null,m(M(_),((e,a)=>(i(),c(s,{key:a},{default:p((()=>{var a;return[f(C((null==(a=e.meta)?void 0:a.label)||e.name),1)]})),_:2},1024)))),128))])),_:1}))])}}}),[["__scopeId","data-v-8eb0c1d3"]]),q={class:"a-menu"},A={class:"a-menu__name"},G=o({name:"a-menu"}),J=S(o({...G,setup(a){const{router:n,route:t}=s(),{menu:o}=e(),r=z("");function f(e){o.setMenu(e);const a=o.getPath(o.group[e].children);n.push(a)}return v((function(){function e(a,s){switch(a.type){case 0:a.children.forEach((a=>{e(a,s)}));break;case 1:t.path.includes(a.path)&&(r.value=String(s),o.setMenu(s))}}o.group.forEach(((a,s)=>{e(a,s)}))})),(e,a)=>{const s=l("cl-svg"),n=l("el-menu-item"),t=l("el-menu");return i(),u("div",q,[b(t,{"default-active":r.value,mode:"horizontal","background-color":"transparent",onSelect:f},{default:p((()=>[(i(!0),u(d,null,m(M(o).group,((e,a)=>(i(),c(n,{key:a,index:`${a}`},{default:p((()=>[e.icon?(i(),c(s,{key:0,name:e.icon,size:18},null,8,["name"])):_("",!0),j("span",A,C(e.name),1)])),_:2},1032,["index"])))),128))])),_:1},8,["default-active"])])}}}),[["__scopeId","data-v-510b6063"]]),K=e=>(h("data-v-b378c626"),e=e(),g(),e),P={class:"app-topbar"},R=[K((()=>j("i",{class:"cl-iconfont cl-icon-fold"},null,-1)))],T=K((()=>j("div",{class:"flex1"},null,-1))),D={key:0,class:"app-topbar__user"},H={class:"el-dropdown-link"},Q={class:"name"},U=["src"],W=K((()=>j("i",{class:"cl-iconfont cl-icon-user"},null,-1))),X=K((()=>j("span",null,"個人中心",-1))),Y=K((()=>j("i",{class:"cl-iconfont cl-icon-exit"},null,-1))),Z=K((()=>j("span",null,"退出",-1))),ee=o({name:"topbar"}),ae=S(o({...ee,setup(a){const{router:n,service:t}=s(),{user:o,app:r}=e();async function m(e){switch(e){case"my":n.push("/my/info");break;case"exit":await t.base.comm.logout(),o.logout()}}return(e,a)=>{const s=l("el-dropdown-item"),n=l("el-dropdown-menu"),t=l("el-dropdown");return i(),u(d,null,[M(r).info.menu.isGroup?(i(),c(J,{key:0})):_("",!0),j("div",P,[j("div",{class:I(["app-topbar__collapse",{unfold:!M(r).isFold}]),onClick:a[0]||(a[0]=e=>M(r).fold())},R,2),b($),T,M(o).info?(i(),u("div",D,[b(t,{trigger:"click","hide-on-click":"",onCommand:m},{dropdown:p((()=>[b(n,null,{default:p((()=>[b(s,{command:"my"},{default:p((()=>[W,X])),_:1}),b(s,{command:"exit"},{default:p((()=>[Y,Z])),_:1})])),_:1})])),default:p((()=>[j("span",H,[j("span",Q,C(M(o).info.nickName),1),j("img",{class:"avatar",src:M(o).info.avatar},null,8,U)])])),_:1})])):_("",!0)])],64)}}}),[["__scopeId","data-v-b378c626"]]);const se={name:"b-menu",setup(){const{router:e,route:n}=s(),{menu:t,app:o}=a();return{route:n,toView:function(a){a!=n.path&&e.push(a),o.browser.isMini&&o.fold(!0)},menu:t}},render(e){const{app:s}=a();const n=function e(a,n){return a.filter((e=>e.isShow)).map((a=>{let t=null;return t=0==a.type?k(b(l("el-sub-menu"),null,null),{index:String(a.id),key:a.id,popperClass:"app-slider__menu"},{title:()=>b("div",{class:"wrap"},[b(l("cl-svg"),{name:a.icon},null),w(b("span",null,[a.name]),[[V,!s.isFold||1!=n]])]),default:()=>e(a.children||[],n+1)}):k(b(l("el-menu-item"),null,null),{index:a.path,key:a.id},{default:()=>b("div",{class:"wrap"},[b(l("cl-svg"),{name:a.icon},null),w(b("span",null,[a.name]),[[V,!s.isFold||1!=n]])])}),t}))}(e.menu.list,1);return b("div",{class:"app-slider__menu"},[b(l("el-menu"),{"default-active":e.route.path,"background-color":"transparent","collapse-transition":!0,collapse:!s.browser.isMini&&s.isFold,onSelect:e.toView},(t=n,"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!y(t)?n:{default:()=>[n]}))]);var t}},ne={class:"app-slider"},te={key:0},oe={class:"app-slider__container"},re=o({name:"undefined"}),le=o({...re,setup(a){const{app:s}=e(),n=E();function t(){n.push("/")}return(e,a)=>(i(),u("div",ne,[j("div",{class:"app-slider__logo",onClick:t},[!M(s).isFold||M(s).browser.isMini?(i(),u("span",te,C(M(s).info.name),1)):_("",!0)]),j("div",oe,[b(M(se))])]))}}),ie={class:"app-views"},ue=o({name:"undefined"}),ce=S(o({...ue,setup(a){const{process:s,app:n}=e(),t=r((()=>s.list.filter((e=>{var a;return null==(a=e.meta)?void 0:a.keepAlive})).map((e=>e.path.substring(1,e.path.length).replace(/\//g,"-")))));return(e,a)=>{const s=l("el-scrollbar"),o=l("router-view");return i(),u("div",ie,[b(o,null,{default:p((({Component:e})=>[b(s,null,{default:p((()=>[b(B,{name:M(n).info.router.transition},{default:p((()=>[(i(),c(F,{include:M(t)},[(i(),c(x(e)))],1032,["include"]))])),_:2},1032,["name"])])),_:2},1024)])),_:1})])}}}),[["__scopeId","data-v-36659118"]]),pe={class:"app-layout__left"},de={class:"app-layout__right"},me=o({name:"undefined"}),fe=S(o({...me,setup(a){const{app:s}=e();return(e,a)=>(i(),u("div",{class:I(["app-layout",{collapse:M(s).isFold}])},[j("div",{class:"app-layout__mask",onClick:a[0]||(a[0]=e=>M(s).fold(!0))}),j("div",pe,[b(le)]),j("div",de,[b(ae),b(ce)])],2))}}),[["__scopeId","data-v-2e483bec"]]);export{fe as default};
