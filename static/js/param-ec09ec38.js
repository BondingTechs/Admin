import{i as e}from"./index-3566ab55.js";import"./vue-echarts-f79e68f9.js";import{b as a}from"./element-plus-ad41b746.js";import"./store-96e17a43.js";import{u as o}from"./index-29a77919.js";import{d as t,n as r,R as s,o as l,I as p,J as i,b as n,a as m,c as d,V as c,F as u,N as b,L as f,M as j}from"./@vue.runtime-core-e50a2272.js";import{h as v}from"./@vue.reactivity-da630c06.js";import{L as h}from"./@vue.shared-5670d8a7.js";import{_ as y}from"./_plugin-vue_export-helper-c4cb8a60.js";import"./@vue.runtime-dom-90e9fdb1.js";import"./axios-966d6f38.js";import"./nprogress-6d1393d1.js";import"./lodash-es-a085e596.js";import"./vue-router-916993ce.js";import"./pinia-bb8d2f73.js";import"./vue-demi-5b9a0fa5.js";import"./@vueuse.core-2fa6d9e6.js";import"./@vueuse.shared-ca6b0f06.js";import"./vue-b5fce9d1.js";import"./mockjs-93ca2bc8.js";import"./mitt-dab1f1cb.js";import"./@element-plus.icons-vue-26cbeb7a.js";import"./@popperjs.core-040feab9.js";import"./@ctrl.tinycolor-84ad98d6.js";import"./dayjs-dd470533.js";import"./async-validator-efc2d198.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./@floating-ui.dom-9d85c32a.js";import"./@floating-ui.core-c56fb7e8.js";import"./resize-detector-94afada7.js";import"./echarts-6943293a.js";import"./tslib-ed971494.js";import"./zrender-0d232395.js";const x={class:"editor"},k=t({name:"sys-param"}),_=y(t({...k,setup(t){const{service:y}=o(),k=v({index:null,list:[{label:"切換富文本編輯器",to:1,component:"cl-codemirror"},{label:"切換代碼編輯器",to:0,component:"cl-editor-wang"}]}),_=e.exports.useCrud({service:y.base.sys.param},(e=>{e.refresh()})),w=e.exports.useTable({columns:[{type:"selection",width:60},{label:"名稱",prop:"name",minWidth:150},{label:"keyName",prop:"keyName",minWidth:150},{label:"數據",prop:"data",minWidth:150,showOverflowTooltip:!0},{label:"備註",prop:"remark",minWidth:200,showOverflowTooltip:!0},{label:"操作",type:"op",buttons:["edit","delete"]}]}),g=e.exports.useUpsert({dialog:{width:"1000px"},items:[{prop:"name",label:"名稱",span:12,required:!0,component:{name:"el-input"}},{prop:"keyName",label:"keyName",span:12,required:!0,component:{name:"el-input",props:{placeholder:"請輸入Key"}}},{prop:"data",label:"數據",component:{name:"slot-content"}},{prop:"remark",label:"備註",component:{name:"el-input",props:{placeholder:"請輸入備註",rows:3,type:"textarea"}}}],onOpened(e){k.index=null,r((()=>{var a;"add"==(null==(a=g.value)?void 0:a.mode)?k.index=1:k.index=/<*>/g.test(e.data)?1:0}))}});return(e,o)=>{const t=s("cl-refresh-btn"),r=s("cl-add-btn"),v=s("cl-multi-delete-btn"),y=s("cl-flex1"),N=s("cl-search-key"),V=s("el-row"),z=s("cl-table"),C=s("cl-pagination"),T=s("el-button"),U=s("cl-upsert"),W=s("cl-crud");return l(),p(W,{ref_key:"Crud",ref:_},{default:i((()=>[n(V,null,{default:i((()=>[n(t),n(r),n(v),n(y),n(N)])),_:1}),n(V,null,{default:i((()=>[n(z,{ref_key:"Table",ref:w},null,512)])),_:1}),n(V,null,{default:i((()=>[n(y),n(C)])),_:1}),n(U,{ref_key:"Upsert",ref:g},{"slot-content":i((({scope:e})=>[m("div",x,[(l(!0),d(u,null,c(k.list,((o,t)=>(l(),d(u,{key:t},[k.index==t?(l(),d(u,{key:0},[n(T,{class:"change-btn",onClick:e=>{return t=o.to,void a.confirm("切換編輯器會清空輸入內容，是否繼續？","提示",{type:"warning"}).then((()=>{var e;k.index=t,null==(e=g.value)||e.setForm("data","")})).catch((()=>null));var t}},{default:i((()=>[b(h(o.label),1)])),_:2},1032,["onClick"]),(l(),p(f(o.component),{modelValue:e.data,"onUpdate:modelValue":a=>e.data=a},null,8,["modelValue","onUpdate:modelValue"]))],64)):j("",!0)],64)))),128))])])),_:1},512)])),_:1},512)}}}),[["__scopeId","data-v-9eb9bead"]]);export{_ as default};
